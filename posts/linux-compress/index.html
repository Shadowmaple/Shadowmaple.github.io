<!DOCTYPE html>
<html lang="zh-cn" >
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  
  <meta name="author"
        content="Shadow"/>

  
  <meta name="description" content="Linux下文件压缩命令的汇总"/>
  

  
  
  <meta name="keywords" content="Hugo, Shadow"/>
  

  
  <link rel="canonical" href="https://Shadowmaple.github.io/posts/linux-compress/"/>

  

  <title> Linux的压缩命令 &middot; Shadow&#39;s blog</title>

  <link rel="shortcut icon" href="https://Shadowmaple.github.io/images/favicon.ico"/>
  <link rel="stylesheet" href="https://Shadowmaple.github.io/css/animate.min.css"/>
  <link rel="stylesheet" href="https://Shadowmaple.github.io/css/remixicon.css"/>
  <link rel="stylesheet" href="https://Shadowmaple.github.io/css/zozo.css"/>
  <link rel="stylesheet" href="https://Shadowmaple.github.io/css/highlight.css"/>

  
  
  
  
  
</head>

<body>
<div class="main animated">
  <div class="nav_container animated fadeInDown">
  <div class="site_nav" id="site_nav">
    <ul>
      
      <li>
        <a href="/">主页</a>
      </li>
      
      <li>
        <a href="/posts/">归档</a>
      </li>
      
      <li>
        <a href="/categories/">分类</a>
      </li>
      
      <li>
        <a href="/tags/">标签</a>
      </li>
      
      <li>
        <a href="/about/">关于</a>
      </li>
      
    </ul>
  </div>
  <div class="menu_icon">
    <a id="menu_icon"><i class="remixicon-links-line"></i></a>
  </div>
</div>

  <div class="header animated fadeInDown">
  <div class="site_title_container">
    <div class="site_title">
      <h1>
        <a href="https://Shadowmaple.github.io">
          <span>Shadow&#39;s blog</span>
          <img src="https://Shadowmaple.github.io/images/logo.svg"/>
        </a>
      </h1>

    </div>
    <div class="description">
      <p class="sub_title">不辜负每一天</p>
      <div class="my_socials">
        
        
        <a href="https://www.github.com/Shadowmaple" title="github" target="_blank"><i class="remixicon-github-fill"></i></a>
        
        
        <a href="https://Shadowmaple.github.io/index.xml" type="application/rss+xml" title="rss" target="_blank"><i class="remixicon-rss-fill"></i></a>
      </div>
    </div>
  </div>
</div>

  <div class="content">
    <div class="post_page">
      <div class="post animated fadeInDown">
        <div class="post_title post_detail_title">
          <h2><a href='/posts/linux-compress/'> Linux的压缩命令</a></h2>
          <span class="date">2019-07-31</span>
        </div>
        <div class="post_content markdown">

<h1 id="常见的压缩命令">常见的压缩命令</h1>

<table>
<thead>
<tr>
<th align="left">扩展名</th>
<th align="left">压缩软件</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">*.Z</td>
<td align="left">compress 软件</td>
</tr>

<tr>
<td align="left">*.zip</td>
<td align="left">zip程序</td>
</tr>

<tr>
<td align="left">*.gz</td>
<td align="left">gzip程序</td>
</tr>

<tr>
<td align="left">*.bz2</td>
<td align="left">bzip2程序</td>
</tr>

<tr>
<td align="left">*.xz</td>
<td align="left">xz 程序</td>
</tr>

<tr>
<td align="left">*.tar</td>
<td align="left">tar程序打包的文件，未压缩</td>
</tr>

<tr>
<td align="left">*.tar.gz</td>
<td align="left">tar程序打包，并经过gzip压缩</td>
</tr>

<tr>
<td align="left">*.tar.bz2</td>
<td align="left">tar程序打包，并经过bzip2压缩</td>
</tr>

<tr>
<td align="left">*.tar.xz</td>
<td align="left">tar程序打包，并经过xz压缩</td>
</tr>
</tbody>
</table>

<p>其中 compress 已基本弃用，而zip是为了支持windows而出现的，在linux中使用的也就之后的几个压缩命令。</p>

<h1 id="文件压缩">文件压缩</h1>

<p>在现在的linux中，常用的单个文件压缩软件有gzip，bzip2和xz，就压缩比而言，gzip &lt; bzip2 &lt; xz，但相对的，压缩时间 gzip &lt; bzip2 &lt; xz。</p>

<h2 id="gzip">gzip</h2>

<p>gzip 是一种使用较为广泛的压缩命令，它可以解开 compress、zip和gzip等软件所压缩的文件，其压缩后的文件名为 *.gz</p>

<pre><code class="language-shell">$ gzip [option] {filename}

选项和参数：
-c	: 将压缩数据输出到屏幕上
-d	: 解压缩
-k	: 保留原始文件
-v	: 显示压缩信息（压缩比等）
-n	: 1-9的数字，代表压缩等级，1最差，9最好，默认为6
-l	: 列出压缩文件的相关信息

# 压缩文件
# 这样之后压缩的文件会覆盖原始文件
$ gzip example.md

# 压缩文件，显示压缩信息，并保留源文件
# 第一种方法
$ gzip -kv example.md
# 第二种方法，使用数据流重定向
$ gzip -cv example.md &gt; example.md.gz

# 解压缩文件
$ gzip -dv example.md.gz

# 使用9级压缩
$ gzip -9v example.md

# 显示压缩文件的信息
$ gzip -l example.gz
</code></pre>

<p>一般来说无论压缩还是解压缩，默认都是替换原有文件，要想保留原始文件就必须另加选项或参数。</p>

<p>至于压缩等级，虽然9级压缩率最好，但是时间成本会比较高，酌情使用。</p>

<p>使用 zcat, zmore, zless 可以读取被压缩后的压缩文件的纯文本内容。使用 zgrep 可以在压缩文件中查找纯文本内的关键字。</p>

<pre><code class="language-shell">$ zgrep &quot;vim&quot; example.md.gz
</code></pre>

<h2 id="bzip2">bzip2</h2>

<p>bzip2 是比 gzip 更好的压缩命令，其提供的压缩比更好，但相对的，它所花的压缩时间也会更久。bzip2 的用法与gzip基本相同，压缩后的文件名为 *.bz2</p>

<pre><code class="language-shell">$ bzip2 [option] [filename]

选项和参数：
-c	: 将压缩数据输出到屏幕上
-d	: 解压缩
-k	: 保留原始文件
-v	: 显示压缩信息
-n	: 1-9的数字，代表压缩等级，1最差，9最好，默认为6
-l	: 列出压缩文件的相关信息

# 压缩文件，并保留原始文件
$ bzip2 -kv example.md

# 解压缩
$ bzip2 -dv example.md.bz2
</code></pre>

<p>同样的，bzip2 也有 bzat，bzmore，bzless 和 bzgrep 使用。</p>

<h2 id="xz">xz</h2>

<p>xz 是比 bzip2 更棒的一个压缩命令，同样的，压缩的时间成本也更高。其压缩文件为 *.xz，其用法与前两者基本相同，所以就不显示示例了。</p>

<pre><code class="language-shell">$ xz [option] [filename]

选项和参数：
-c	: 将压缩数据输出到屏幕上
-d	: 解压缩
-k	: 保留原始文件
-v	: 显示压缩信息
-n	: 1-9的数字，代表压缩等级，1最差，9最好，默认为6
-l	: 列出压缩文件的相关信息
</code></pre>

<p>同样的，xz 也有 xzcat，xzmore，xzless和xzgrep。</p>

<h1 id="打包压缩">打包压缩</h1>

<p>gzip，bzip2和xz只是针对单个文件进行压缩，一般情况下不能针对一个目录。但是通过 tar 对一个目录进行打包就可以进行压缩。可以用 ta r打包再 用 gzip 等进行压缩，也可以将这两个步骤合并使用。</p>

<pre><code class="language-shell"># 打包与压缩
$ tar [-z|-j|-J] [-cv] [-f 目标文件名] 被压缩文件名
# 查看打包文件
$ tar [-z|-j|-J] [-tv] [-f 文件名]
# 解压缩
$ tar [-z|-j|-J] [-xv] [-f 文件名] [-C 目录]

选项与参数：
-c	: 建立打包文件
-t	: 查看打包文件含有的文件
-x	: 解包或解压缩
----------------------------------------
-z	: 使用 gzip 进行压缩，文件名为 *.tar.gz
-j	: 使用 bzip2 进行压缩，文件名为 *.tar.bz2
-J	: 使用 xz 进行压缩，文件名为 *.tar.xz
----------------------------------------
-v	: 显示处理的文件信息
-f 	: 后要跟被处理的文件名
-C 	: 后跟目录名，在解压缩时解压至该目录
----------------------------------------
-p	: 保留数据原有权限和属性
-P	: 保留绝对路径
--exclude=FILE	: 在压缩过程中，忽略该文件


# 示例
# 打包
# 若在开头加上 time 会显示程序运行时间
$ tar -cv -f example.tar example

# 打包并用gzip压缩
$ tar -zcvf example.tar.gz example

# 查看打包文件中所含文件
# 若加上-v 则会显示文件完整（属性）信息
$ tar -ztf example.tar.gz

# 解压缩至当前目录
$ tar -zxvf example.tar.gz -C .
</code></pre>
</div>
        <div class="post_footer">
          
          <div class="meta">
            <div class="info">
              <span class="field tags">
                <i class="remixicon-stack-line"></i>
                
                <a href="https://Shadowmaple.github.io/tags/linux/">linux</a>
                
                <a href="https://Shadowmaple.github.io/tags/%E5%8E%8B%E7%BC%A9/">压缩</a>
                
              </span>
            </div>
          </div>
          
        </div>
      </div>


      


      
      
    </div>
  </div>
  <a id="back_to_top" href="#" class="back_to_top"><span>△</span></a>
</div>
<footer class="footer">
  <div class="Since">
      &copy;
    <span itemprop="copyrightYear">2018 - 2019</span>
    <span>| Shadow Zhang</span>
  </div>

  <div class="Powered">
    <span><span>Powered by Hugo</span></span>
  </div>

  <div class="footer_slogan">
    <span>功不唐捐  玉汝于成</span>
  </div>
</footer>



<script src="https://Shadowmaple.github.io/js/jquery-3.3.1.min.js"></script>
<script src="https://Shadowmaple.github.io/js/zozo.js"></script>

<script src="/js/highlight.pack.js"></script>

<link rel="stylesheet" href="/js/styles/github-gist.css">

<script src="https://Shadowmaple.github.io/js/fancybox.min.js"></script>

<script>hljs.initHighlightingOnLoad()</script>


  <script type="text/javascript" async src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>






</body>
</html>
