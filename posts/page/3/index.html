<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Posts - Mannix&#39;s blog</title>
  <meta name="author" content="Mannix"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Mannix\x27s blog",
    
    "url": "https:\/\/Shadowmaple.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/Shadowmaple.github.io"
  
  
  
  
}
</script>

<meta property="og:title" content="Posts" />
<meta property="og:url" content="https://Shadowmaple.github.io/posts/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Mannix&#39;s blog" />

  <meta name="twitter:title" content="Posts" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.68.3" />
  <link rel="alternate" href="https://Shadowmaple.github.io/index.xml" type="application/rss+xml" title="Mannix&#39;s blog"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://Shadowmaple.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://Shadowmaple.github.io/css/syntax.css" /><link rel="stylesheet" href="https://Shadowmaple.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">切换导航</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://Shadowmaple.github.io">Mannix&#39;s blog</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="主页" href="/">主页</a>
            </li>
          
        
          
            <li>
              <a title="归档" href="/posts/">归档</a>
            </li>
          
        
          
            <li>
              <a title="分类" href="/categories/">分类</a>
            </li>
          
        
          
            <li>
              <a title="标签" href="/tags/">标签</a>
            </li>
          
        
          
            <li>
              <a title="关于" href="/about/">关于</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Posts</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
  <div class="container" role="main">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        
        <div class="posts-list">
          
            <article class="post-preview">
    <a href="https://Shadowmaple.github.io/posts/hexo-build-blog/">
        <h2 class="post-title">Hexo搭建博客</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;发表于 April 16, 2019
  
  
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Mannix
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <h1 id="什么是-hexo">什么是 Hexo？</h1>
<blockquote>
<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
</blockquote>
<p>搭建过程或许有那么点小繁琐~~（其实挺麻烦的）~~，但一旦搭建完成，发表博文是极简单，极舒服的。
只需要几个简单命令，你就可以完成一切。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ hexo n <span style="color:#75715e">#写文章</span>
$ hexo g <span style="color:#75715e">#生成</span>
$ hexo d <span style="color:#75715e">#部署，可与hexo g合并为 hexo d -g</span>
</code></pre></div><h1 id="前期准备">前期准备</h1>
<ul>
<li>已安装git</li>
<li>已有github账号</li>
<li>已有node.js</li>
</ul>
<h1 id="安装npm">安装npm</h1>
<p>可以直接apt安装，也可以去官网下载node.js包，然后解压安装。在此用apt安装：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ sudo apt-get install npm 
</code></pre></div><p>因为npm的源在国外，没翻墙的话速度会很慢（感觉翻墙了效果也不是很大），可以改成国内的淘宝源</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ npm config list   <span style="color:#75715e">#查看配置</span>
$ sudo npm config set registry https://registry.npm.taobao.org  <span style="color:#75715e">#换源</span>
</code></pre></div><h1 id="hexo本地搭建">hexo本地搭建</h1>
<h2 id="安装hexo">安装hexo</h2>
<p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。一条命令即可解决：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ sudo npm install -g hexo-cli
</code></pre></div><p>如果 npm 安装 hexo 失败, 则很有可能是权限问题, 或者npm与node的版本不兼容（很少出现）</p>
<blockquote>
<p><a href="https://blog.csdn.net/cc18868876837/article/details/81542282">npm install安装失败问题</a></p>
</blockquote>
<h2 id="hexo初始化">Hexo初始化</h2>
<p>创建一个目录用来作为你的 blog 目录，并在该目录中进行Hexo的初始化：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ mkdir &lt;folder&gt;
$ cd &lt;folder&gt;
$ hexo init
</code></pre></div><p>也可以直接</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ hexo init &lt;folder&gt;
</code></pre></div><p>等一会儿如果出现橙色的 <code>WARN</code> 没关系，只要不出现红色的 <code>ERROR</code> 就行
执行后，可能会出现如下的警告，安装依赖项失败，则要手动运行 npm 安装</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">WARN  Failed to install dependencies. Please run <span style="color:#e6db74">&#39;npm install&#39;</span> manually!
</code></pre></div><p>手动运行安装(直接输入即可)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ npm install
</code></pre></div><p>这样，hexo会帮你在该目录下生成相应的各种文件：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">.
├── _config.yml
├── package.json
├── scaffolds
│   ├── draft.md
│   ├── page.md
│   └── post.md
├── source
|   ├── _drafts
|   └── _posts
└── themes
    └── landscape
</code></pre></div><p>至此，完成了Hexo的初始化</p>
<h2 id="本地启动">本地启动</h2>
<p>Hexo 3.0 把服务器独立成了个别模块，但要先安装 hexo-server 才能使用。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ sudo npm install hexo-server --save
</code></pre></div><p>之后就可以进行本地的预览了</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ hexo g    <span style="color:#75715e">#等同于hexo generate, 生成静态文件</span>
$ hexo s    <span style="color:#75715e">#等同于hexo server, 在本地服务器运行</span>
</code></pre></div><p>指定端口</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ hexo s -p <span style="color:#ae81ff">2333</span>
</code></pre></div><p>至此，Hexo博客已经在本地成功搭建
停止：<code>ctrl+c</code></p>
<h1 id="将本地hexo博客推送到githubpages">将本地Hexo博客推送到GithubPages</h1>
<h2 id="创建仓库">创建仓库</h2>
<p>仓库名为：<code>&lt;Github账号名称&gt;.github.io</code>，github会自动将它识别为Ｇithub Pages所属的仓库，并开启博客的站点链接</p>
<h2 id="安装-hexo-deployer-git-插件">安装 hexo-deployer-git 插件</h2>
<pre><code>$ sudo npm install hexo-deployer-git --save
</code></pre><h2 id="修改站点目录下的_configyml">修改站点目录下的<code>_config.yml</code></h2>
<p>在文件末尾修改为：</p>
<pre><code># Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
  type: git
  repo: git@github.com:&lt;Github账号名称&gt;/&lt;Github账号名称&gt;.github.io.git
  branch: master
</code></pre><p>注：上面的地址可以是ssh地址，也可以是https地址</p>
<h2 id="添加ssh-key">添加SSH key</h2>
<h3 id="生成ssh密钥">生成ssh密钥</h3>
<p>输入以下命令，回车三下（默认值）即可：</p>
<pre><code>$ ssh-keygen -t rsa -C &quot;邮箱地址&quot;
</code></pre><h3 id="将密钥添加到-github">将密钥添加到 github</h3>
<ol>
<li>
<p>打开github &ndash;&gt; Settings &ndash;&gt; SSH and GPG keys &ndash;&gt; New SSH key</p>
</li>
<li>
<p>复制密钥文件内容（路径：<code>~/.ssh/id_rsa.pub</code>），粘贴到 New SSH Key 打开的 “Key” 之中即可，title 可随意，可不填。</p>
</li>
<li>
<p>测试是否添加成功，在命令行依次输入以下命令，返回<code>You’ve successfully authenticated</code>即成功：</p>
<pre><code>$ ssh -T git@github.com
</code></pre></li>
</ol>
<h2 id="推送到githubpages">推送到GithubPages</h2>
<p>输入以下命令， 返回<code>INFO Deploy done: git</code>即成功推送</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ hexo g
$ hexo d
</code></pre></div><p>等待1分钟左右，访问博客地址即可： <code>https://&lt;Github账号名称&gt;.github.io</code></p>
<p>可以看到初始便有一篇《Hello world》文章</p>
<h2 id="错误分析">错误分析</h2>
<ul>
<li>当遇到部署出错或部署后的网页存在偏差时，建议先清理下缓存：<code>hexo clean</code></li>
</ul>
<p>我遇到 Permission denied 问题，可能你们也会踩到这个坑</p>
<blockquote>
<p><a href="https://blog.csdn.net/Zzz_Zzz_Z/article/details/80730921">Permission denied问题</a>
<a href="http://www.cnblogs.com/xsilence/p/6001938.html">针对github权限导致hexo部署失败的解决方案</a></p>
</blockquote>
<p>还有这一篇<a href="https://www.simon96.online/2018/10/12/hexo-tutorial/">博文</a>关于错误分析罗列得比较全</p>
<h2 id="hexo指令">hexo指令</h2>
<pre><code>hexo help       #查看帮助
hexo init       #初始化一个目录
hexo clean      #清除缓存，最好每次执行命令前先清理缓存
hexo generate   #生成网页，可以在 public 目录查看整个网站的文件
hexo server     #本地预览，'Ctrl+C'关闭
hexo deploy     #部署.deploy目录
hexo new &quot;postName&quot;         #新建文章
hexo new page &quot;pageName&quot;    #新建页面
</code></pre><h1 id="基础配置">基础配置</h1>
<h2 id="配置站点信息">配置站点信息</h2>
<h3 id="更改标题作者语言等">更改标题，作者，语言等</h3>
<p>修改站点配置文件(<code>_config.yml</code>)，以博主的设置为例</p>
<pre><code># Site
title: 玄著 
subtitle: 记录点滴  #副标题，在主标题之下显示
description: Coding everyday, change everyday   #描述，在”作者“之下显示
keywords:           #站点关键字，可用于被搜索引擎捕获
author: Shadow Zhang    #作者名
language: zh-CN     #语言，简体中文，更多请见官方文档
timezone:           #时区
</code></pre><p>这样就算成自己的博客了2333</p>
<h1 id="写博文">写博文</h1>
<h2 id="新建文章">新建文章</h2>
<p>执行命令，生成指定名称的文章至<code>source/_posts/postName.md</code></p>
<pre><code>$ hexo new [layout] &quot;postName&quot;
</code></pre><p>其中layout是可选参数，默认值为post。有哪些 layout 呢，请到 scaffolds 目录下查看，这些文件名称就是 layout 名称。当然你可以添加自己的 layout，方法就是添加一个文件即可，同时你也可以编辑现有的 layout，比如 post 的 layout 默认是<code>scaffolds/post.md</code></p>
<h2 id="front-matter">Front-matter</h2>
<p>一开始新建起来的是这样的</p>
<pre><code>title: postName             #文章标题，可以修改，但最好不要改，后面会说到
date: 2019-04-13 19:43:07   #文章生成时间，可以任意修改
`tags`:                     #文章标签，可为空
---
这里开始使用markdown格式输入你的正文。
</code></pre><p>多个标签（yaml格式）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">&#39;tags&#39;</span>:
  - python
  - linux
</code></pre></div><p>我们可以添加其它参数，如更新时间，分类等，详见<a href="https://hexo.io/zh-cn/docs/front-matter.html">官方文档</a></p>
<h2 id="文章部分显示设置">文章部分显示设置</h2>
<p>打开主页，我们会发现主页显示的文章都是整篇显示的，这样子不太符合我们的需求。</p>
<h3 id="---more---方法"><code>&lt;!-- more --&gt;</code>方法</h3>
<p>通常情况下，在文章中可以使用 <code>&lt;!--more-- &gt;</code> 手动进行截断，这是Hexo提供的方式。这种方式可以精确控制需要显示的摘录内容，也可以让 Hexo 中的插件更好地对文章进行识别，比如markdown的显示。</p>
<p>使用：中间不留空格。在需要的地方插入 <code>&lt;!--more-- &gt;</code> 即可。</p>
<h3 id="其它方法">其它方法</h3>
<p>除了Hexo提供的传统方法，大多主题都提供有其它的方式，比如 NexT 主题，提供了另外两种方式：</p>
<ol>
<li>在文章的 front-matter 中添加 description，输入文章摘录即可</li>
<li>自动形成摘要，将主题配置中的<code>&quot;auto_excerpt</code>项，改为true即可</li>
</ol>
<pre><code>auto_excerpt:
  enable: true
  length: 150   #默认截取的长度为，可以自行设定
</code></pre><h1 id="更改主题">更改主题</h1>
<p>网上主题有很多，前人栽树，后人乘凉，我们只要选择一个适合自己的主题即可。可以查看<a href="https://hexo.io/themes/">主题列表</a>，但是更多的主题未被官方收录。</p>
<p>我选择的主题是NexT，简洁美观，有三种外观，并且现在已经更新到了v7.1了，内部已经集成了很多模块，可以很方便地实现一些动能而无需扒前端代码（卑微）。另外还有其它人气比较高的主题，诸如：material，<a href="https://github.com/A-limon/pacman">pacman</a>，<a href="https://github.com/orderedlist/modernist">modernist</a>，<a href="https://github.com/litten/hexo-theme-yilia">yilia</a>，<a href="https://github.com/yscoder/hexo-theme-indigo">indigo</a>。不多说，进入正题。</p>
<p>更换主题其实很简单，只要克隆主题——更改设置，即可，简单吧，<del>呵呵</del>，但实践起来还是会遇到麻烦</p>
<h2 id="克隆主题">克隆主题</h2>
<p>进入该主题的github仓库，比如<a href="https://github.com/theme-next/hexo-theme-next">Next</a>。不过可能会遇到一个主题有两个仓库的情况，比如next还有一个<a href="https://github.com/iissnan/hexo-theme-next">仓库</a>，但是看它的发行版本，只有v5.14，并也宣告该仓库已停止维护。所以下载哪个，看各自的版本吧。</p>
<p>在hexo顶级目录下，克隆到 themes 目录</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ git clone https://github.com/theme-next/hexo-theme-next themes/next
</code></pre></div><p>可能在克隆过程中会因为速度过慢而失败，（此坑已踩，9kb/s&hellip;），解决办法参考<a href="https://blog.csdn.net/hzwwpgmwy/article/details/79043251">此文</a></p>
<h2 id="启用主题">启用主题</h2>
<p>打开站点配置文件（_config.yml）, 找到 theme 字段, 并将其值更改为 next</p>
<pre><code>theme: next
</code></pre><h2 id="更改样式">更改样式</h2>
<p>NexT有四种模式（其实只有三种，第三和第四个差不太多），直接更改主题配置文件（<code>themes/next/_config.yml</code>）的 scheme 参数即可</p>
<pre><code># Schemes
#scheme: Muse
#scheme: Mist
#scheme: Pisces
scheme: Gemini
</code></pre><p>然后<code>hexo s</code>即可预览效果</p>
<h1 id="主题优化基于next">主题优化(基于next)</h1>
<h2 id="添加标签和分类页面">添加「标签」和「分类」页面</h2>
<p>（以添加标签页面为例）</p>
<p>新建标签页面</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ hexo new page tags
</code></pre></div><p>编辑刚新建的页面，将页面的类型设置为 tags ，主题将自动为这个页面显示标签页。文件内容如下：</p>
<pre><code>title: tags
date: 2019-04-13 16:31:39
type: &quot;tags&quot;
---
</code></pre><p>在菜单中添加链接。编辑 主题配置文件 ， 添加 tags 到 menu 中</p>
<pre><code>menu:
  home: / || home 
  #about: /about/ || user
  tags: /tags/ || tags 
  #categories: /categories/ || th
  archives: /archives/ || archive
  #schedule: /schedule/ || calendar
  #sitemap: /sitemap.xml || sitemap
  #commonweal: /404/ || heartbeat
</code></pre><p>添加“分类”或其它的菜单同理，只需把 tags 改为 categories 或其它即可。</p>
<p>若只是修改了主题配置文件（此坑亲测），那么点开 tags 链接会出现这样的画面：
<img src="https://upload-images.jianshu.io/upload_images/3072214-a1cce579d49cb369.png?imageMogr2/auto-orient/" alt="tags not found"></p>
<h2 id="添加头像">添加头像</h2>
<p>在<code>themes/next/_config.yml</code>件中搜索 avatar ：</p>
<pre><code># Sidebar Avatar
avatar:
  # In theme directory (source/images): /images/avatar.gif
  # In site directory (source/uploads): /uploads/avatar.gif
  # You can also use other linking images.
  url: /uploads/avatar.jpg
  # If true, the avatar would be dispalyed in circle.
  rounded: true     # true为圆形，false为方形
  # The value of opacity should be choose from 0 to 1 to set the opacity of the avatar.
  opacity: 1        # 不透明度，0-1，0为透明
  # If true, the avatar would be rotated with the cursor.
  rotated: false    # true为旋转
</code></pre><p>头像图片可以放在主题目录下，也可以放在站点目录下，我选择放在站点目录下。在站点目录的 source 目录中新建 uploads 目录，用来存放头像，url 为图片地址</p>
<ul>
<li>注意：如果图片不是正方形的话，那么 rounded 参数设为 true 的话会变成椭圆形哦（亲测..）</li>
</ul>
<h2 id="返回文章顶部并显示当前浏览进度">返回文章顶部并显示当前浏览进度</h2>
<p>修改<code>themes/next/_config.yml</code>，把 false 改为 true：</p>
<pre><code># Back to top in sidebar
b2t: true       # 返回文章顶部

# Scroll percent label in b2t button
scrollpercent: true     # 当前浏览进度
</code></pre><h2 id="侧边栏社交小图标设置">侧边栏社交小图标设置</h2>
<p>打开主题配置文件<code>_config.yml</code>，搜索 Social，去掉你要添加的图标前面的#号，也可以自己添加其它的社交地址。其格式为：</p>
<pre><code>[社交平台名]: [社交地址] || [图标名称]
</code></pre><pre><code>social:
  GitHub: https://github.com/Shadowmaple || github
  E-Mail: mailto:shdwzhang@gmail.com || envelope
  #Weibo: https://weibo.com/yourname || weibo
  #Google: https://plus.google.com/yourname || google
  #Twitter: https://twitter.com/yourname || twitter
  #FB Page: https://www.facebook.com/yourname || facebook
  #VK Group: https://vk.com/yourname || vk
  #StackOverflow: https://stackoverflow.com/yourname || stack-overflow
  #YouTube: https://youtube.com/yourname || youtube
  #Instagram: https://instagram.com/yourname || instagram
  #Skype: skype:yourname?call|chat || skype
  
# 图标设置
social_icons:
  enable: true 
  icons_only: false     #只显示图标
  transition: false
  GitHub: github
</code></pre><ul>
<li>图标可以去<a href="https://fontawesome.com/icons?from=io">Font Awesome Icon</a>网站去找，找到后复制名字到相应的位置即可。</li>
</ul>
<h2 id="文章代码主题设置">文章代码主题设置</h2>
<p>NexT 共有5款主题供你选择，默认使用的是 白色的 normal 主题，可选的值有 normal，night， night blue， night bright， night eighties。
在主题文件夹的 <code>_config.yml</code> 配置文件中，定位到 <code>highlight_theme</code>，根据需求修改相应的值即可</p>
<h2 id="添加nest动态背景特效">添加nest动态背景特效</h2>
<p>背景的几何线条是采用的nest效果，一个基于html5 canvas绘制的网页背景效果，非常赞！来自github的开源项目<a href="https://github.com/hustcc/canvas-nest.js">canvas-nest</a></p>
<p>效果图：
<img src="https://yixiuer.oss-cn-shanghai.aliyuncs.com/images/hexo-next-optimization-2.gif" alt="canvas动态效果图"></p>
<p>而幸运的是，next主题已经内部集成了这个模块，所以就不用那么麻烦地去改js代码了</p>
<blockquote>
<p><a href="https://github.com/theme-next/theme-next-canvas-nest">查看教程</a></p>
</blockquote>
<h2 id="主页文章添加边框阴影效果">主页文章添加边框阴影效果</h2>
<p>其它主题都可以这样设置。打开 <code>themes/*/source/css/_custom/custom.styl</code> ,向里面加代码:</p>
<pre><code>// 主页文章添加阴影效果
.post {
   margin-top: 0px;
   margin-bottom: 60px;
   padding: 25px;
   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);
}
</code></pre><h2 id="修改底部标签样式">修改底部标签样式</h2>
<p>修改<code>themes/next/layout/_macro/post.swig</code>文件，搜索<code>rel=&quot;tag&quot;&gt;#</code>，将<code>#</code>替换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code>。查看效果：
<img src="https://qqadapt.qpic.cn/txdocpic/0/f30051c7389908eb2da8aecf0fe8af5a/0" alt="底部样式效果"></p>
<p>如果不成功，则把原来的静态资源给清除掉（<code>hexo clean</code>），重启服务。</p>
<h2 id="底部隐藏由hexo强力驱动主题--nextmist">底部隐藏由Hexo强力驱动、主题&ndash;NexT.Mist</h2>
<p>在主题配置文件中，搜索 powered，修改 enable 即可</p>
<pre><code>  powered:
    # Hexo link (Powered by Hexo).
    enable: false
    # Version info of Hexo after Hexo link (vX.X.X).
    version: true 

  theme:
    # Theme &amp; scheme info link (Theme - NexT.scheme).
    enable: false 
    # Version info of NexT after scheme info (vX.X.X).
    version: true 
</code></pre><blockquote>
<p>更多酷炫效果请见参考文档</p>
</blockquote>
<h1 id="参考文档">参考文档</h1>
<ul>
<li>
<p><a href="https://hexo.io/zh-cn/docs/">Hexo官方文档</a></p>
</li>
<li>
<p><a href="https://theme-next.org/docs/getting-started/">NexT官方文档</a></p>
</li>
<li>
<p><a href="https://www.simon96.online/2018/10/12/hexo-tutorial/">【持续更新】最全Hexo博客搭建+主题优化+插件配置+常用操作+错误分析</a></p>
</li>
<li>
<p><a href="http://zwd596257180.gitee.io/blog/2019/04/15/hexo_manong_bog/">码云+Hexo搭建个人博客+评论功能接入</a></p>
</li>
<li>
<p><a href="https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html#fn:2">打造个性超赞博客Hexo+NexT+GitHubPages的超深度优化</a></p>
</li>
</ul>

        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://Shadowmaple.github.io/tags/hexo/">hexo</a>&nbsp;
        
        <a href="https://Shadowmaple.github.io/tags/blog/">blog</a>&nbsp;
        
        <a href="https://Shadowmaple.github.io/tags/linux/">linux</a>&nbsp;
        
        <a href="https://Shadowmaple.github.io/tags/next/">Next</a>&nbsp;
        
        <a href="https://Shadowmaple.github.io/tags/github/">github</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="https://Shadowmaple.github.io/posts/python-decorator/">
        <h2 class="post-title">Python装饰器</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;发表于 April 13, 2019
  
  
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Mannix
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <h1 id="为什么要用装饰器">为什么要用装饰器？</h1>
<p>先看一个简单的例子</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;I&#39;m foo.&#34;</span>)

foo()
</code></pre></div><p>之后有了一个新需求，想要在其中添加时间，你可以这样直接添加：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#f92672">import</span> time

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
    t <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%H:%M:%S&#39;</span>, time<span style="color:#f92672">.</span>localtime())
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;It</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s {} now.&#39;</span><span style="color:#f92672">.</span>format(t))
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;I am foo.&#34;</span>)

foo()
</code></pre></div><p>先来看下效果</p>
<pre><code>It's 15:15:15 now.
I am foo.
</code></pre><p>成功达成目的，但是这样的话，我们每次都要修改函数代码，如果有多个函数的话，效率极为低下。那么这种方式呢？</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> time
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_time</span>(func):
    t <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%H:%M:%S&#39;</span>, time<span style="color:#f92672">.</span>localtime())
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;It</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s {} now.&#39;</span><span style="color:#f92672">.</span>format(t))
    func()

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;I am foo.&#34;</span>)

get_time(foo)
</code></pre></div><p>当然可以。但是这种代码已经破坏了原有的代码逻辑，执行方式改变了，之前是执行运行foo()，而现在却只能运行get_time(foo)。那么有没有更好的方式呢？答案是装饰器。</p>
<h1 id="什么是装饰器">什么是装饰器？</h1>
<p>简单来讲，装饰器就是一个在不破坏原有代码逻辑、结构的情况下对既有函数方法进行附加功能的函数或类。它的本质就是函数或类。</p>
<h2 id="简单的装饰器">简单的装饰器</h2>
<p>首先要认识到在python中函数是一等公民，即函数也是对象，也是可以作为参数进行传递</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_time</span>(func):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>():
        t <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%H:%M:%S&#39;</span>, time<span style="color:#f92672">.</span>localtime())
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;It</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s {} now.&#39;</span><span style="color:#f92672">.</span>format(t))
        <span style="color:#66d9ef">return</span> foo()
    <span style="color:#66d9ef">return</span> wrapper

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;I am foo.&#34;</span>)

foo <span style="color:#f92672">=</span> get_time(foo)
foo()
</code></pre></div><p>函数<code>get_time</code>就是装饰器，它把执行真正业务方法的func包裹在函数里面，看起来像foo被<code>get_time</code>装饰了。</p>
<h2 id="语法糖">语法糖</h2>
<p>@符号是装饰器的语法糖，在定义函数的时候使用，避免再一次赋值操作</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_time</span>(func):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>():
        t <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%H:%M:%S&#39;</span>, time<span style="color:#f92672">.</span>localtime())
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;It</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s {} now.&#39;</span><span style="color:#f92672">.</span>format(t))
        <span style="color:#66d9ef">return</span> foo()
    <span style="color:#66d9ef">return</span> wrapper

<span style="color:#a6e22e">@get_time</span>               <span style="color:#75715e">#加上语法糖，=&gt; foo = get_time(foo)</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;I am foo.&#34;</span>)
</code></pre></div><h2 id="装饰器的调用顺序">装饰器的调用顺序</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a6e22e">@a</span>
<span style="color:#a6e22e">@b</span>
<span style="color:#a6e22e">@c</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
    <span style="color:#66d9ef">pass</span>
</code></pre></div><p>装饰器的调用顺序是从下到上的，即<code>foo = a(b(c(foo)))</code></p>
<h1 id="带参数的装饰器">带参数的装饰器</h1>
<p>装饰器的语法允许我们在调用时，提供其它参数。这样，就为装饰器的编写和使用提供了更大的灵活性。</p>
<h2 id="关于args-kwargs">关于*args, **kwargs</h2>
<p>我们所要装饰的函数有很多是需要参数的，所以说我们可能会想到在wrapper()直接添加参数，但是如果函数所需要的参数个数是不确定的，那如果每次都修改所定义的装饰器，那么装饰器便失去了其普适性。所以引入了<code>*args</code> 和<code>**kwargs</code>支持接受动态参数。</p>
<ul>
<li><code>*args</code>表示任何多个无名参数，它是一个tuple</li>
<li><code>**kwargs</code>表示关键字参数，它是一个dict.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_time</span>(name):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">decorator</span>(func):
        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
            t <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%H:%M:%S&#39;</span>, time<span style="color:#f92672">.</span>localtime())
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;It</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s {} now.&#39;</span><span style="color:#f92672">.</span>format(t))
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;I am {}.&#39;</span><span style="color:#f92672">.</span>format(name))
            <span style="color:#66d9ef">return</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
        <span style="color:#66d9ef">return</span> wrapper
    <span style="color:#66d9ef">return</span> decorator

<span style="color:#a6e22e">@get_time</span>(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Shadow&#39;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Nick&#39;</span>):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Hello, I&#39;m </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">.&#34;</span> <span style="color:#f92672">%</span>name)

foo(<span style="color:#e6db74">&#39;Mark&#39;</span>)
</code></pre></div><h1 id="类装饰器">类装饰器</h1>
<p>相比函数装饰器，类装饰器具有灵活度大、高内聚、封装性等优点。使用类装饰器主要依靠类的<code>__call__</code>方法，当使用@形式将装饰器附加到函数上时，就会调用此方法。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span>(object):
    <span style="color:#66d9ef">def</span> __init__(self, func):
        self<span style="color:#f92672">.</span>_func <span style="color:#f92672">=</span> func

    <span style="color:#66d9ef">def</span> __call__(self):
        <span style="color:#66d9ef">print</span> (<span style="color:#e6db74">&#39;class decorator runing&#39;</span>)
        self<span style="color:#f92672">.</span>_func()
        <span style="color:#66d9ef">print</span> (<span style="color:#e6db74">&#39;class decorator ending&#39;</span>)

<span style="color:#a6e22e">@Foo</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bar</span>():
    <span style="color:#66d9ef">print</span> (<span style="color:#e6db74">&#39;bar&#39;</span>)

bar()
</code></pre></div><h1 id="装饰器的弊端">装饰器的弊端</h1>
<p>虽然装饰器实现了我们的功能，但是借助这个<a href="http://www.pythontutor.com/visualize.html#mode=edit">网站</a>来观察返回的函数foo，我们会发现其名称将不会再是原函数的名称,即它的原信息发生了改变，这说明装饰器对原函数造成了影响，这是我们不愿意见到的。所以我们使用python的<code>functools</code>包中一个装饰器<code>wraps</code>来消除这个副作用。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> wraps
<span style="color:#f92672">import</span> time

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_time</span>(name):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">decorator</span>(func):
        <span style="color:#a6e22e">@wraps</span>(func)
        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
            t <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%H:%M:%S&#39;</span>, time<span style="color:#f92672">.</span>localtime())
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;It</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s {} now.&#39;</span><span style="color:#f92672">.</span>format(t))
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;I am {}.&#39;</span><span style="color:#f92672">.</span>format(name))
            <span style="color:#66d9ef">return</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
        <span style="color:#66d9ef">return</span> wrapper
    <span style="color:#66d9ef">return</span> decorator

<span style="color:#a6e22e">@get_time</span>(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Shadow&#39;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Nick&#39;</span>):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Hello, I&#39;m </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">.&#34;</span> <span style="color:#f92672">%</span>name)

foo(<span style="color:#e6db74">&#39;Mark&#39;</span>)
</code></pre></div><h1 id="装饰器的执行顺序">装饰器的执行顺序</h1>
<p>装饰器的一个关键特性是，它们在被装饰的函数定义之后立即运行。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">decorator</span>(func):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;running decorator&#34;</span>)
    <span style="color:#66d9ef">return</span> func

<span style="color:#a6e22e">@decorator</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;running foo&#34;</span>)

foo()
</code></pre></div><p>这就有运行和导入之分。导入时：</p>
<pre><code>&gt;&gt;&gt; import decorator
running decorator
</code></pre><p><code>foo()</code>只有在运行时才会运行</p>
<h1 id="闭包">闭包</h1>
<p>明确三个变量：全局变量，局部变量和自由变量。</p>
<p>自由变量，指未在本地作用域中绑定的变量</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">decorator</span>(func):
    lt <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;abc&#39;</span>]
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>():
        <span style="color:#66d9ef">print</span>(lt)
        <span style="color:#66d9ef">return</span> func
    <span style="color:#66d9ef">return</span> wrapper
</code></pre></div><p>在上述代码中，在<code>wrapper</code>中<code>lt</code>即是自由变量。从<code>lt = ['abc']</code>到<code>return func</code>之间（包括）即是闭包。</p>
<p>闭包是一种函数，它会保留定义函数时存在的自由变量的绑定，这样调用函数时，虽然定义作用域不可用了，但是仍能使用那些绑定。但是只有嵌套在其他函数中的函数才可能需要处理不在全局作用域中的外部变量。</p>

        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://Shadowmaple.github.io/tags/python/">python</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="https://Shadowmaple.github.io/posts/vim-command/">
        <h2 class="post-title">Vim操作命令</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;发表于 December 15, 2018
  
  
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Mannix
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <h1 id="前言">前言</h1>
<p>简单记录一些在使用vim过程中会用到的操作</p>
<h1 id="模式">模式</h1>
<p>vim有三个模式，分别是：</p>
<ul>
<li>命令模式</li>
<li>编辑模式
<ul>
<li>进入：<code>[i, I, o, O, a, A, r, R]</code></li>
<li>退出：Esc键</li>
</ul>
</li>
<li>命令行模式
<ul>
<li>进入：<code>[:, /, ?]</code></li>
<li>退出：Esc键</li>
<li>作用：查找数据，读取、保存、批量替换字符、退出、显示行号等操作</li>
</ul>
</li>
</ul>
<h1 id="基本操作">基本操作</h1>
<h2 id="退出保存">退出&amp;保存</h2>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">:q</td>
<td align="center">退出</td>
</tr>
<tr>
<td align="center">:q!</td>
<td align="center">强制退出，不保存修改</td>
</tr>
<tr>
<td align="center">:w</td>
<td align="center">保存修改</td>
</tr>
<tr>
<td align="center">:wq</td>
<td align="center">保存并退出</td>
</tr>
<tr>
<td align="center">ZZ</td>
<td align="center">保存并退出</td>
</tr>
</tbody>
</table>
<h2 id="移动光标">移动光标</h2>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>n&lt;space&gt;</code></td>
<td align="center">向右移动n个字符</td>
</tr>
<tr>
<td align="center"><code>n&lt;Enter&gt;</code></td>
<td align="center">向下移动n行</td>
</tr>
<tr>
<td align="center">+</td>
<td align="center">移动到非空格符的下一行</td>
</tr>
<tr>
<td align="center">-</td>
<td align="center">移动到非空格符的上一行</td>
</tr>
<tr>
<td align="center">[ctrl]+f</td>
<td align="center">向下移动一页</td>
</tr>
<tr>
<td align="center">[ctrl]+b</td>
<td align="center">向上移动一页</td>
</tr>
<tr>
<td align="center">[ctrl]+d</td>
<td align="center">向下移动半页</td>
</tr>
<tr>
<td align="center">[ctrl]+u</td>
<td align="center">向上移动半页</td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">移动到最前面的字符处</td>
</tr>
<tr>
<td align="center">$</td>
<td align="center">移动到最后的字符</td>
</tr>
<tr>
<td align="center">H</td>
<td align="center">移动到此屏幕最上方一行的第一个字符</td>
</tr>
<tr>
<td align="center">M</td>
<td align="center">到屏幕中间一行的第一个字符</td>
</tr>
<tr>
<td align="center">L</td>
<td align="center">到屏幕最后一行的第一个字符</td>
</tr>
<tr>
<td align="center">G</td>
<td align="center">移动到此文件的最后一行</td>
</tr>
<tr>
<td align="center">nG</td>
<td align="center">移动到第n行</td>
</tr>
<tr>
<td align="center">gg</td>
<td align="center">移动到此文件的第一行</td>
</tr>
</tbody>
</table>
<h2 id="查找和替换">查找和替换</h2>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">/word</td>
<td align="center">向光标之下查找一个字符串</td>
</tr>
<tr>
<td align="center">?word</td>
<td align="center">向光标之上查找一个字符串</td>
</tr>
<tr>
<td align="center">n</td>
<td align="center">重复前一个查找操作</td>
</tr>
<tr>
<td align="center">N</td>
<td align="center">反向进行前一个查找操作</td>
</tr>
<tr>
<td align="center"><code>:n1,n2s/word1/word2/g</code></td>
<td align="center">在第n1和n2行之间寻找word1字符串，并将其替换为word2</td>
</tr>
<tr>
<td align="center"><code>:1,$s/word1/word2/g</code></td>
<td align="center">从第一行到最后一行寻找word1字符串，并将其替换为word2</td>
</tr>
<tr>
<td align="center"><code>:1,$s/word1/word2/gc</code></td>
<td align="center">从第一行到最后一行寻找word1字符串，并将其替换为word2，且在替换前显示提示字符给用户确认是否替换</td>
</tr>
<tr>
<td align="center">:nohl</td>
<td align="center">取消反白</td>
</tr>
</tbody>
</table>
<h2 id="删除复制和粘贴">删除、复制和粘贴</h2>
<h3 id="删除">删除</h3>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">nx</td>
<td align="center">连续向后删除n个字符</td>
</tr>
<tr>
<td align="center">ndd</td>
<td align="center">剪切（删除）光标所在的向下n行</td>
</tr>
<tr>
<td align="center">dd</td>
<td align="center">剪切该行</td>
</tr>
<tr>
<td align="center">d1G</td>
<td align="center">剪切光标所在到第一行的所有数据</td>
</tr>
<tr>
<td align="center">d$</td>
<td align="center">剪切光标所在到最后一行的所有数据</td>
</tr>
<tr>
<td align="center">d0</td>
<td align="center">剪切光标所在处，到该行的最前面的一个字符</td>
</tr>
<tr>
<td align="center">[n]c[k]</td>
<td align="center">重复删除多个数据，k为方向按键，如5cj为向下删除5，5cl为向右删除5个字符</td>
</tr>
</tbody>
</table>
<h3 id="复制与粘贴">复制与粘贴</h3>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">yy</td>
<td align="center">复制所在一行</td>
</tr>
<tr>
<td align="center">nyy</td>
<td align="center">复制n行</td>
</tr>
<tr>
<td align="center">yn</td>
<td align="center">复制n+1行</td>
</tr>
<tr>
<td align="center">y1G</td>
<td align="center">复制所在行到第一行的数据</td>
</tr>
<tr>
<td align="center">yG</td>
<td align="center">复制所在行到最后一行的数据</td>
</tr>
<tr>
<td align="center">y0</td>
<td align="center">复制所在的字符到该行行首的数据</td>
</tr>
<tr>
<td align="center">y$</td>
<td align="center">复制所在的字符到该行行尾的数据</td>
</tr>
<tr>
<td align="center">p</td>
<td align="center">在下一行粘贴</td>
</tr>
<tr>
<td align="center">P</td>
<td align="center">在上一行粘贴</td>
</tr>
</tbody>
</table>
<h3 id="其他">其他</h3>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">u</td>
<td align="center">恢复前一个操作，撤销</td>
</tr>
<tr>
<td align="center">ctrl+r</td>
<td align="center">重做上一个操作，对撤销操作而言的撤销</td>
</tr>
<tr>
<td align="center">&raquo;</td>
<td align="center">该行向右缩进</td>
</tr>
<tr>
<td align="center">&laquo;</td>
<td align="center">该行向左缩进</td>
</tr>
<tr>
<td align="center">&gt;[n]</td>
<td align="center">n行向右缩进</td>
</tr>
<tr>
<td align="center">&lt;[n]</td>
<td align="center">n行向左缩进</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center">重复上一次的操作</td>
</tr>
</tbody>
</table>
<h2 id="命令模式切换到编辑模式">命令模式切换到编辑模式</h2>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">i与I</td>
<td align="center">i 为从目标光标所在处插入，I 为在目前所在行的第一个非空格符处开始插入</td>
</tr>
<tr>
<td align="center">a与A</td>
<td align="center">a 为从所在的下一个字符处开始插入，A 为从所在行的最后一个字符处开始插入</td>
</tr>
<tr>
<td align="center">o与O</td>
<td align="center">o 为在所在的下一行处插入新的一行，O 为在目前所在处的上一行插入新的一行</td>
</tr>
<tr>
<td align="center">r与R</td>
<td align="center">r 只会替换光标所在的那个字符一次；R 会一直替换光标所在的文字，直到按下Esc为止</td>
</tr>
</tbody>
</table>
<h2 id="命令行模式的其它操作">命令行模式的其它操作</h2>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>:! [command]</code></td>
<td align="center">暂时退出vi到shell执行command的显示结果，如<code>:! ls ~</code></td>
</tr>
<tr>
<td align="center"><code>:w [file]</code></td>
<td align="center">将编辑的数据保存成另一个文件</td>
</tr>
<tr>
<td align="center"><code>:f [file]</code></td>
<td align="center">在编辑的数据中，读入另一个文件的数据，即将此文件内容添加到光标所在行之后</td>
</tr>
<tr>
<td align="center"><code>:n1,n2 w [file]</code></td>
<td align="center">将n1到n2的内容保存到file文件</td>
</tr>
</tbody>
</table>
<h1 id="可视区块">可视区块</h1>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">v</td>
<td align="center">字符选择，会将光标经过的地方反白选择</td>
</tr>
<tr>
<td align="center">V</td>
<td align="center">行选择， 会将光标经过的行反白选择</td>
</tr>
<tr>
<td align="center">[ctrl]+v</td>
<td align="center">可视区块，可以用矩形的方式选择数据</td>
</tr>
<tr>
<td align="center">y</td>
<td align="center">复制反白的地方</td>
</tr>
<tr>
<td align="center">d</td>
<td align="center">删除</td>
</tr>
<tr>
<td align="center">p</td>
<td align="center">将复制的区块，在光标所在处粘贴</td>
</tr>
<tr>
<td align="center">[Esc]</td>
<td align="center">退出</td>
</tr>
</tbody>
</table>
<h1 id="多文件编辑">多文件编辑</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim">:<span style="color:#a6e22e">r</span> <span style="color:#a6e22e">filename</span>     # <span style="color:#a6e22e">在光标处</span>，<span style="color:#a6e22e">读取</span>（<span style="color:#a6e22e">写入</span>）<span style="color:#a6e22e">某个文件的全部内容</span>，<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>多文件编辑</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ vi file1 file2    <span style="color:#75715e"># 同时打开两个文件</span>
</code></pre></div><table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">:n</td>
<td align="center">编辑下一个文件</td>
</tr>
<tr>
<td align="center">:N</td>
<td align="center">编辑上一个文件</td>
</tr>
<tr>
<td align="center">:files</td>
<td align="center">列出目前这个vim开启的所有文件</td>
</tr>
</tbody>
</table>
<h1 id="多窗口功能">多窗口功能</h1>
<p>多窗口同步显示：修改同步，光标移动不同步</p>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>:sp [filename]</code></td>
<td align="center">打开一个新窗口， 若有加filename，则表示在新窗口创建一个新文件，否则表示两个窗口为一个文件内容（同步显示）</td>
</tr>
<tr>
<td align="center"><code>[ctrl]+ w + j</code></td>
<td align="center">光标移动到下方的窗口</td>
</tr>
<tr>
<td align="center"><code>[ctrl]+ w + k</code></td>
<td align="center">光标移动到上方的窗口</td>
</tr>
<tr>
<td align="center"><code>[ctrl]+ w + q</code></td>
<td align="center">退出，也可用<code>:q</code>或<code>:close</code></td>
</tr>
</tbody>
</table>
<h1 id="关键字补全">关键字补全</h1>
<p>组合键，要在编辑模式下使用</p>
<table>
<thead>
<tr>
<th align="center">command</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">ctrl+x -&gt; ctrl+n</td>
<td align="center">通过目前正在编辑的这个【文件的内容文字】作为关键字，予以补全</td>
</tr>
<tr>
<td align="center">ctrl+x -&gt; ctrl+f</td>
<td align="center">以当前目录内的【文件名】作为关键词，予以补全</td>
</tr>
<tr>
<td align="center">ctrl+x -&gt; ctrl+o</td>
<td align="center">以扩展名作为语法补充，以vim内置的关键词，予以补全</td>
</tr>
</tbody>
</table>

        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://Shadowmaple.github.io/tags/vim/">vim</a>&nbsp;
        
        <a href="https://Shadowmaple.github.io/tags/linux/">linux</a>&nbsp;
        
    </div>
    

</article>
          
        </div>
        
          <ul class="pager main-pager">
            
              <li class="previous">
                <a href="https://Shadowmaple.github.io/posts/page/2/">&larr; 上一页</a>
              </li>
            
            
          </ul>
        
      </div>
    </div>
  </div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Mannix
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2018 - 2020
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://Shadowmaple.github.io">Mannix&#39;s blog</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          由 <a href="https://gohugo.io">Hugo v0.68.3</a> 强力驱动 &nbsp;&bull;&nbsp; 主题 <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> 移植自 <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://Shadowmaple.github.io/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://Shadowmaple.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

